---
title: "Probability Distributions"
subtitle: "Linking Probability and Data"  
author: 
  - "Robert W. Walker"
date: '2020-10-19'
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

<script src="index_files/header-attrs/header-attrs.js"></script>
<script src="index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="index_files/plotly-binding/plotly.js"></script>
<script src="index_files/typedarray/typedarray.min.js"></script>
<script src="index_files/jquery/jquery.min.js"></script>
<link href="index_files/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="index_files/crosstalk/js/crosstalk.min.js"></script>
<link href="index_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="index_files/plotly-main/plotly-latest.min.js"></script>


<div id="an-admin-note" class="section level2">
<h2>An Admin Note</h2>
<p>There is a very nice graphical user interface for parts of R called radiant that is especially useful for probability distributions. To acquire it, try:</p>
<pre><code>install.packages(&quot;radiant&quot;)</code></pre>
<p>It can be started via Add-ins.</p>
</div>
<div id="general-representation-of-probability" class="section level2">
<h2>General Representation of Probability</h2>
<p>Is of necessity two-dimensional,</p>
<ul>
<li>We have <span class="math inline">\(x\)</span> and</li>
<li>we have <span class="math inline">\(Pr(X=x)\)</span> in one of two forms (Pr or f).</li>
</ul>
<hr />
<p><img src="index_files/figure-html/P1-1.jpeg" width="672" /></p>
<hr />
</div>
<div id="probability-distributions-of-two-forms" class="section level2">
<h2>Probability Distributions of Two Forms</h2>
<p>Our core concept is a probability distribution just as above. These come in two forms for two types [discrete (qualitative)] and continuous (quantitative)]:</p>
<ul>
<li>Assumed</li>
<li>Derived</li>
</ul>
<hr />
</div>
<div id="the-poster-and-examples" class="section level2">
<h2><a href="https://github.com/robertwwalker/DADMStuff/raw/master/Distribution-Poster.pdf">The Poster</a> and Examples</h2>
<p>Distributions are nouns. Sentences are incomplete without verbs – parameters. We need both; it is for this reason that the former slide is true. We do not always have a grounding for either the name or the parameter.</p>
<hr />
</div>
<div id="continuous-vs.-discrete-distributions" class="section level2">
<h2>Continuous vs. Discrete Distributions</h2>
<p>The differences are sums versus integrals. Why?</p>
<ul>
<li>Histograms or<br />
</li>
<li>Density Plots</li>
</ul>
<p>The probability of exactly any given value is zero on a true continuum.</p>
<hr />
<p>Expectation</p>
<p><span class="math display">\[E(X) = \sum_{x \in X} x \cdot Pr(X=x)\]</span>
<span class="math display">\[E(X) = \int_{x \in X} x \cdot f(x)dx\]</span></p>
<p>Variance</p>
<p><span class="math display">\[E[(X-\mu)^2] = \sum_{x \in X} (x-\mu)^2 \cdot Pr(X=x)\]</span>
<span class="math display">\[E((X-\mu)^2) = \int_{x \in X} (x-\mu)^2 \cdot f(x)dx\]</span></p>
<hr />
</div>
<div id="functions" class="section level1">
<h1>Functions</h1>
<p>Probability distributions are mathematical formulae expressing likelihood for some set of qualities or quantities. They have names: nouns. They also have verbs: parameters. Like a proper English sentence, both are required.</p>
<hr />
<div id="our-applications" class="section level2">
<h2>Our Applications</h2>
<ul>
<li>The normal will be defined by a mean <span class="math inline">\(\mu\)</span> (mu) and standard deviation <span class="math inline">\(\sigma\)</span> - sigma [or variance, <span class="math inline">\(\sigma^2\)</span>]</li>
<li>The uniform will be defined by a minimum and maximum.</li>
<li>The Poisson will be defined an arrival rate <span class="math inline">\(\lambda\)</span> – lambda.</li>
<li>The binomial will be defined by a number of trials <span class="math inline">\(n\)</span> and a probability <span class="math inline">\(\pi\)</span>.</li>
</ul>
<hr />
</div>
</div>
<div id="the-uniform-distribution" class="section level1">
<h1>The Uniform Distribution</h1>
<ul>
<li>Is flat, each value is eqully likely.</li>
<li>Defined on 0 to 1 gives a random cumulative probability <span class="math inline">\(X \leq x\)</span>.</li>
<li>Is also known as the rectangular distribution</li>
</ul>
</div>
<div id="the-normal-gaussian" class="section level1">
<h1>The Normal [Gaussian]</h1>
<p><span class="math display">\[f(x|\mu,\sigma^2 ) = \frac{1}{\sqrt{2\pi\sigma^{2}}} \exp \left[ -\frac{1}{2} \left(\frac{x - \mu}{\sigma}\right)^{2}\right]\]</span></p>
<p>Is the workhorse of statistics. Key features:</p>
<ul>
<li>Is self-replicating: sums of normals are normal.<br />
</li>
<li>If <span class="math inline">\(X\)</span> is normal, then <span class="math display">\[ Z = \frac{(X - \mu)}{\sigma} \]</span> is normal.<br />
</li>
<li>Aside, <span class="math display">\[z_{x} = \frac{(x - \overline{x})}{s_{x}}\]</span> has mean 0 and variance/std. dev. 1.</li>
</ul>
<hr />
</div>
<div id="the-z-transform" class="section level1">
<h1>The z-transform</h1>
<p>The generic z-transformation applied to a variable <span class="math inline">\(x\)</span> centers [mean<span class="math inline">\(\approx\)</span> 0] and scales [std. dev. <span class="math inline">\(\approx\)</span> variance <span class="math inline">\(\approx\)</span> 1] to <span class="math inline">\(z_{x}\)</span> for population parameters. <span class="math inline">\(\approx\)</span> is approximately equal to.</p>
<p><span class="math display">\[z = \frac{x - \mu}{\sigma}\]</span></p>
<hr />
<pre class="r"><code>data.frame(Norm = rnorm(10000)) %&gt;% ggplot() + aes(x=Norm) + geom_density() + labs(x=&quot;Z - Normal(0,1)&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-2-1.jpeg" width="672" /></p>
<hr />
<p>In samples, the 0 and 1 are exact; these are features of the mean and <em>degrees of freedom</em> from last time.</p>
<p><span class="math display">\[ z = \frac{x - \overline{x}}{s_{x}} \]</span>.</p>
<p>where <span class="math inline">\(\overline{x}\)</span> is the sample mean of <span class="math inline">\(x\)</span> and <span class="math inline">\(s_{x}\)</span> is the sample standard deviation of <span class="math inline">\(x\)</span>. Take the example of earnings.</p>
<hr />
<p>Suppose earnings in a community have mean 55,000 and standard deviation 10,000. This is in dollars. Suppose I earn 75,000 dollars. First, if we take the top part of the fraction in the <span class="math inline">\(z\)</span> equation, we see that I earn 20,000 dollars more than the average (75000 - 55000). Finishing the calculation of z, I would divide that 20,000 dollars by 10,000 dollars per standard deviation. Let’s show that.</p>
<p><span class="math display">\[ z = \frac{75000 dollars - 55000 dollars}{\frac{10000 dollars}{SD}} = +2 SD \]</span>.</p>
<p>I am 2 standard deviations above the average (the +) earnings. All <span class="math inline">\(z\)</span> does is re-scale the original data to standard deviations with zero as the mean.</p>
<hr />
<p>Suppose I earn 35,000. That makes me 20,000 below the average and gives me a z score of -2. I am 2 standard deviations below average (the -) earnings.</p>
<p><span class="math inline">\(z\)</span> is an easy way to assess symmetry. The mean of z is always zero but the distribution of z to the left and right of zero is informative. If they are roughly even, then symmetry is likely. If the signs are uneven, then symmetry is unlikely. In R, <span class="math inline">\(z\)</span> is automated with the <em>scale()</em> command. The last line uses a table and the <em>sign</em> command to show me the positive and negative z.</p>
<hr />
<pre class="r"><code># Generate random normal income
DataF &lt;- data.frame(Hypo.Income = rnorm(1000, 55000, 10000)) %&gt;%
# z-transform income [mean 55000ish, std. dev. 10000ish]
mutate(z.Income = scale(Hypo.Income))
# Show the data.frame
head(DataF)</code></pre>
<pre><code>##   Hypo.Income   z.Income
## 1    51603.96 -0.3470398
## 2    61108.74  0.5885206
## 3    48488.63 -0.6536840
## 4    79116.85  2.3610707
## 5    53355.25 -0.1746595
## 6    56585.27  0.1432730</code></pre>
<pre class="r"><code>table(sign(DataF$z.Income))</code></pre>
<pre><code>## 
##  -1   1 
## 505 495</code></pre>
<hr />
</div>
<div id="probability-distributions" class="section level1">
<h1>Probability Distributions</h1>
<p>Distributions in R are defined by four core parts:</p>
<ul>
<li>r, for random variables</li>
<li>p, for cumulative probability (given x) [counting from left] <span class="math inline">\(Pr(X\leq x)\)</span></li>
<li>d, for density/probability that <span class="math inline">\(Pr(X=x)\)</span> or <span class="math inline">\(f(x)\)</span></li>
<li>q, for quantile (given p): x such that <span class="math inline">\(Pr(X\leq q)=p\)</span></li>
</ul>
<hr />
<div id="a-grape-escape" class="section level2">
<h2>A Grape Escape?</h2>
<p>A filling process is supposed to fill jars with 16 ounces of grape jelly, according to the label, and regulations require that each jar contain between 15.95 and 16.05 ounces.</p>
<ol style="list-style-type: decimal">
<li><em>Suppose that the uniform random process of filling in known to fill between 15.9 and 16.1 ounces uniformly.</em></li>
</ol>
<hr />
<ul>
<li>Plot the histogram of 1000 simulated values. NB: <em>unif</em> is the noun with boundaries a (default 0) and b(default 1).</li>
</ul>
<pre class="r"><code>Jars &lt;- runif(1000, 15.9, 16.1)
Jars %&gt;% data.frame() %&gt;% ggplot() + aes(x=Jars) + geom_histogram(binwidth=0.005)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-3-1.jpeg" width="672" /></p>
<hr />
<ul>
<li>What is the probability that a random jar is outside of requirements?</li>
</ul>
<p><strong>Exactly? 50 percent because 25 percent are between 15.9 and 15.95 and 25 percent are between 16.05 and 16.1.</strong></p>
<pre class="r"><code>table(Jars &lt; 15.95 | Jars &gt; 16.05) # | captures or</code></pre>
<pre><code>## 
## FALSE  TRUE 
##   518   482</code></pre>
<hr />
<ul>
<li>Scale (z) the jars and summarise them.</li>
</ul>
<pre class="r"><code>summary(scale(Jars))</code></pre>
<pre><code>##        V1          
##  Min.   :-1.76027  
##  1st Qu.:-0.84756  
##  Median :-0.01648  
##  Mean   : 0.00000  
##  3rd Qu.: 0.86893  
##  Max.   : 1.77237</code></pre>
<pre class="r"><code>sd(scale(Jars))</code></pre>
<pre><code>## [1] 1</code></pre>
<hr />
<ol start="2" style="list-style-type: decimal">
<li><em>The mean of the normal random process of filling is known to be 16.004 ounces with standard deviation 0.028 ounces.</em></li>
</ol>
<hr />
<ul>
<li>What is the probability that a random jar is outside of requirements? NB: <em>norm</em> is the noun with mean (default 0) and sd (default 1).</li>
</ul>
<pre class="r"><code>pnorm(15.95, 16.004, 0.028) + pnorm(16.05, 16.004, 0.028, lower.tail=FALSE)</code></pre>
<pre><code>## [1] 0.07709829</code></pre>
<hr />
<ul>
<li>What is the probability that a random jar contains more than 16.1 ounces?</li>
</ul>
<pre class="r"><code>1-pnorm(16.1, 16.004, 0.028)</code></pre>
<pre><code>## [1] 0.0003033834</code></pre>
<hr />
<ul>
<li>What is the probability that a random jar contains less than 16.04 ounces?</li>
</ul>
<pre class="r"><code>pnorm(16.04, 16.004, 0.028)</code></pre>
<pre><code>## [1] 0.9007286</code></pre>
<hr />
<ul>
<li>95% of jars, given a normal, will contain between XXX and XXX ounces of jelly.</li>
</ul>
<pre class="r"><code>qnorm(c(0.025,0.975), 16.004, 0.028)</code></pre>
<pre><code>## [1] 15.94912 16.05888</code></pre>
<hr />
<ul>
<li>The bottom 5% of jars contain, at most, XXX ounces of jelly.</li>
</ul>
<pre class="r"><code>qnorm(0.05, 16.004, 0.028)</code></pre>
<pre><code>## [1] 15.95794</code></pre>
<hr />
<ul>
<li>The top 25% of jars contain at least XXX ounces of jelly.</li>
</ul>
<pre class="r"><code>qnorm(0.75, 16.004, 0.028)</code></pre>
<pre><code>## [1] 16.02289</code></pre>
</div>
</div>
<div id="bernoulli-trials-and-the-binomial" class="section level1">
<h1>Bernoulli Trials and the Binomial</h1>
<p>Suppose the variable of interest is discrete and takes only two values: yes and no. For example, is a customer satisfied with the outcomes of a given service visit?</p>
<p>For each individual, because the probability of yes <span class="math inline">\(\pi\)</span> and no 1-<span class="math inline">\(\pi\)</span> must sum to one, we can write:</p>
<p><span class="math display">\[f(x|\pi) = \pi^{x}(1-\pi)^{1-x}\]</span></p>
<hr />
<p>For multiple identical trials, we have the Binomial:</p>
<p><span class="math display">\[f(x|n,\pi) = {n \choose k} \pi^{x}(1-\pi)^{n-x}\]</span>
where <span class="math display">\[{n \choose k} = \frac{n!}{(n-k)!}\]</span></p>
<hr />
</div>
<div id="the-binomial" class="section level1">
<h1>The Binomial</h1>
<div class="figure">
<img src="https://github.com/robertwwalker/DADMStuff/raw/master/BinomialR.PNG" alt="" />
<p class="caption">BinomialR</p>
</div>
<hr />
<div id="scottish-pounds" class="section level2">
<h2>Scottish Pounds</h2>
<p><em>Informal surveys suggest that 15% of Essex shopkeepers will not accept Scottish pounds. There are approximately 200 shops in the general High Street square.</em></p>
<hr />
<ol style="list-style-type: decimal">
<li>Draw a plot of the distribution and the cumulative distribution of shopkeepers that do not accept Scottish pounds.</li>
</ol>
<pre class="r"><code>Scots &lt;- data.frame(Potential.Refusers = 0:200) %&gt;% mutate(Prob = round(pbinom(Potential.Refusers, size=200, 0.15), digits=4))
Scots %&gt;% ggplot() + aes(x=Potential.Refusers, y=Prob) + geom_point() + labs(x=&quot;Refusers&quot;, y=&quot;Prob. of x or Less Refusers&quot;) -&gt; Plot1
Plot1</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.jpeg" width="672" /></p>
<hr />
</div>
</div>
<div id="a-nicer-plot" class="section level1">
<h1>A Nicer Plot</h1>
<pre class="r"><code>library(plotly)
ggplotly(Plot1)</code></pre>
<div id="htmlwidget-1" style="width:672px;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0.0001,0.0002,0.0004,0.001,0.0021,0.0043,0.0082,0.0149,0.0255,0.0415,0.0645,0.0959,0.1368,0.1876,0.248,0.3166,0.3914,0.4697,0.5485,0.6247,0.6958,0.7596,0.815,0.8613,0.8987,0.928,0.9502,0.9665,0.978,0.986,0.9913,0.9947,0.9969,0.9982,0.999,0.9995,0.9997,0.9998,0.9999,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"text":["Potential.Refusers:   0<br />Prob: 0.0000","Potential.Refusers:   1<br />Prob: 0.0000","Potential.Refusers:   2<br />Prob: 0.0000","Potential.Refusers:   3<br />Prob: 0.0000","Potential.Refusers:   4<br />Prob: 0.0000","Potential.Refusers:   5<br />Prob: 0.0000","Potential.Refusers:   6<br />Prob: 0.0000","Potential.Refusers:   7<br />Prob: 0.0000","Potential.Refusers:   8<br />Prob: 0.0000","Potential.Refusers:   9<br />Prob: 0.0000","Potential.Refusers:  10<br />Prob: 0.0000","Potential.Refusers:  11<br />Prob: 0.0000","Potential.Refusers:  12<br />Prob: 0.0001","Potential.Refusers:  13<br />Prob: 0.0002","Potential.Refusers:  14<br />Prob: 0.0004","Potential.Refusers:  15<br />Prob: 0.0010","Potential.Refusers:  16<br />Prob: 0.0021","Potential.Refusers:  17<br />Prob: 0.0043","Potential.Refusers:  18<br />Prob: 0.0082","Potential.Refusers:  19<br />Prob: 0.0149","Potential.Refusers:  20<br />Prob: 0.0255","Potential.Refusers:  21<br />Prob: 0.0415","Potential.Refusers:  22<br />Prob: 0.0645","Potential.Refusers:  23<br />Prob: 0.0959","Potential.Refusers:  24<br />Prob: 0.1368","Potential.Refusers:  25<br />Prob: 0.1876","Potential.Refusers:  26<br />Prob: 0.2480","Potential.Refusers:  27<br />Prob: 0.3166","Potential.Refusers:  28<br />Prob: 0.3914","Potential.Refusers:  29<br />Prob: 0.4697","Potential.Refusers:  30<br />Prob: 0.5485","Potential.Refusers:  31<br />Prob: 0.6247","Potential.Refusers:  32<br />Prob: 0.6958","Potential.Refusers:  33<br />Prob: 0.7596","Potential.Refusers:  34<br />Prob: 0.8150","Potential.Refusers:  35<br />Prob: 0.8613","Potential.Refusers:  36<br />Prob: 0.8987","Potential.Refusers:  37<br />Prob: 0.9280","Potential.Refusers:  38<br />Prob: 0.9502","Potential.Refusers:  39<br />Prob: 0.9665","Potential.Refusers:  40<br />Prob: 0.9780","Potential.Refusers:  41<br />Prob: 0.9860","Potential.Refusers:  42<br />Prob: 0.9913","Potential.Refusers:  43<br />Prob: 0.9947","Potential.Refusers:  44<br />Prob: 0.9969","Potential.Refusers:  45<br />Prob: 0.9982","Potential.Refusers:  46<br />Prob: 0.9990","Potential.Refusers:  47<br />Prob: 0.9995","Potential.Refusers:  48<br />Prob: 0.9997","Potential.Refusers:  49<br />Prob: 0.9998","Potential.Refusers:  50<br />Prob: 0.9999","Potential.Refusers:  51<br />Prob: 1.0000","Potential.Refusers:  52<br />Prob: 1.0000","Potential.Refusers:  53<br />Prob: 1.0000","Potential.Refusers:  54<br />Prob: 1.0000","Potential.Refusers:  55<br />Prob: 1.0000","Potential.Refusers:  56<br />Prob: 1.0000","Potential.Refusers:  57<br />Prob: 1.0000","Potential.Refusers:  58<br />Prob: 1.0000","Potential.Refusers:  59<br />Prob: 1.0000","Potential.Refusers:  60<br />Prob: 1.0000","Potential.Refusers:  61<br />Prob: 1.0000","Potential.Refusers:  62<br />Prob: 1.0000","Potential.Refusers:  63<br />Prob: 1.0000","Potential.Refusers:  64<br />Prob: 1.0000","Potential.Refusers:  65<br />Prob: 1.0000","Potential.Refusers:  66<br />Prob: 1.0000","Potential.Refusers:  67<br />Prob: 1.0000","Potential.Refusers:  68<br />Prob: 1.0000","Potential.Refusers:  69<br />Prob: 1.0000","Potential.Refusers:  70<br />Prob: 1.0000","Potential.Refusers:  71<br />Prob: 1.0000","Potential.Refusers:  72<br />Prob: 1.0000","Potential.Refusers:  73<br />Prob: 1.0000","Potential.Refusers:  74<br />Prob: 1.0000","Potential.Refusers:  75<br />Prob: 1.0000","Potential.Refusers:  76<br />Prob: 1.0000","Potential.Refusers:  77<br />Prob: 1.0000","Potential.Refusers:  78<br />Prob: 1.0000","Potential.Refusers:  79<br />Prob: 1.0000","Potential.Refusers:  80<br />Prob: 1.0000","Potential.Refusers:  81<br />Prob: 1.0000","Potential.Refusers:  82<br />Prob: 1.0000","Potential.Refusers:  83<br />Prob: 1.0000","Potential.Refusers:  84<br />Prob: 1.0000","Potential.Refusers:  85<br />Prob: 1.0000","Potential.Refusers:  86<br />Prob: 1.0000","Potential.Refusers:  87<br />Prob: 1.0000","Potential.Refusers:  88<br />Prob: 1.0000","Potential.Refusers:  89<br />Prob: 1.0000","Potential.Refusers:  90<br />Prob: 1.0000","Potential.Refusers:  91<br />Prob: 1.0000","Potential.Refusers:  92<br />Prob: 1.0000","Potential.Refusers:  93<br />Prob: 1.0000","Potential.Refusers:  94<br />Prob: 1.0000","Potential.Refusers:  95<br />Prob: 1.0000","Potential.Refusers:  96<br />Prob: 1.0000","Potential.Refusers:  97<br />Prob: 1.0000","Potential.Refusers:  98<br />Prob: 1.0000","Potential.Refusers:  99<br />Prob: 1.0000","Potential.Refusers: 100<br />Prob: 1.0000","Potential.Refusers: 101<br />Prob: 1.0000","Potential.Refusers: 102<br />Prob: 1.0000","Potential.Refusers: 103<br />Prob: 1.0000","Potential.Refusers: 104<br />Prob: 1.0000","Potential.Refusers: 105<br />Prob: 1.0000","Potential.Refusers: 106<br />Prob: 1.0000","Potential.Refusers: 107<br />Prob: 1.0000","Potential.Refusers: 108<br />Prob: 1.0000","Potential.Refusers: 109<br />Prob: 1.0000","Potential.Refusers: 110<br />Prob: 1.0000","Potential.Refusers: 111<br />Prob: 1.0000","Potential.Refusers: 112<br />Prob: 1.0000","Potential.Refusers: 113<br />Prob: 1.0000","Potential.Refusers: 114<br />Prob: 1.0000","Potential.Refusers: 115<br />Prob: 1.0000","Potential.Refusers: 116<br />Prob: 1.0000","Potential.Refusers: 117<br />Prob: 1.0000","Potential.Refusers: 118<br />Prob: 1.0000","Potential.Refusers: 119<br />Prob: 1.0000","Potential.Refusers: 120<br />Prob: 1.0000","Potential.Refusers: 121<br />Prob: 1.0000","Potential.Refusers: 122<br />Prob: 1.0000","Potential.Refusers: 123<br />Prob: 1.0000","Potential.Refusers: 124<br />Prob: 1.0000","Potential.Refusers: 125<br />Prob: 1.0000","Potential.Refusers: 126<br />Prob: 1.0000","Potential.Refusers: 127<br />Prob: 1.0000","Potential.Refusers: 128<br />Prob: 1.0000","Potential.Refusers: 129<br />Prob: 1.0000","Potential.Refusers: 130<br />Prob: 1.0000","Potential.Refusers: 131<br />Prob: 1.0000","Potential.Refusers: 132<br />Prob: 1.0000","Potential.Refusers: 133<br />Prob: 1.0000","Potential.Refusers: 134<br />Prob: 1.0000","Potential.Refusers: 135<br />Prob: 1.0000","Potential.Refusers: 136<br />Prob: 1.0000","Potential.Refusers: 137<br />Prob: 1.0000","Potential.Refusers: 138<br />Prob: 1.0000","Potential.Refusers: 139<br />Prob: 1.0000","Potential.Refusers: 140<br />Prob: 1.0000","Potential.Refusers: 141<br />Prob: 1.0000","Potential.Refusers: 142<br />Prob: 1.0000","Potential.Refusers: 143<br />Prob: 1.0000","Potential.Refusers: 144<br />Prob: 1.0000","Potential.Refusers: 145<br />Prob: 1.0000","Potential.Refusers: 146<br />Prob: 1.0000","Potential.Refusers: 147<br />Prob: 1.0000","Potential.Refusers: 148<br />Prob: 1.0000","Potential.Refusers: 149<br />Prob: 1.0000","Potential.Refusers: 150<br />Prob: 1.0000","Potential.Refusers: 151<br />Prob: 1.0000","Potential.Refusers: 152<br />Prob: 1.0000","Potential.Refusers: 153<br />Prob: 1.0000","Potential.Refusers: 154<br />Prob: 1.0000","Potential.Refusers: 155<br />Prob: 1.0000","Potential.Refusers: 156<br />Prob: 1.0000","Potential.Refusers: 157<br />Prob: 1.0000","Potential.Refusers: 158<br />Prob: 1.0000","Potential.Refusers: 159<br />Prob: 1.0000","Potential.Refusers: 160<br />Prob: 1.0000","Potential.Refusers: 161<br />Prob: 1.0000","Potential.Refusers: 162<br />Prob: 1.0000","Potential.Refusers: 163<br />Prob: 1.0000","Potential.Refusers: 164<br />Prob: 1.0000","Potential.Refusers: 165<br />Prob: 1.0000","Potential.Refusers: 166<br />Prob: 1.0000","Potential.Refusers: 167<br />Prob: 1.0000","Potential.Refusers: 168<br />Prob: 1.0000","Potential.Refusers: 169<br />Prob: 1.0000","Potential.Refusers: 170<br />Prob: 1.0000","Potential.Refusers: 171<br />Prob: 1.0000","Potential.Refusers: 172<br />Prob: 1.0000","Potential.Refusers: 173<br />Prob: 1.0000","Potential.Refusers: 174<br />Prob: 1.0000","Potential.Refusers: 175<br />Prob: 1.0000","Potential.Refusers: 176<br />Prob: 1.0000","Potential.Refusers: 177<br />Prob: 1.0000","Potential.Refusers: 178<br />Prob: 1.0000","Potential.Refusers: 179<br />Prob: 1.0000","Potential.Refusers: 180<br />Prob: 1.0000","Potential.Refusers: 181<br />Prob: 1.0000","Potential.Refusers: 182<br />Prob: 1.0000","Potential.Refusers: 183<br />Prob: 1.0000","Potential.Refusers: 184<br />Prob: 1.0000","Potential.Refusers: 185<br />Prob: 1.0000","Potential.Refusers: 186<br />Prob: 1.0000","Potential.Refusers: 187<br />Prob: 1.0000","Potential.Refusers: 188<br />Prob: 1.0000","Potential.Refusers: 189<br />Prob: 1.0000","Potential.Refusers: 190<br />Prob: 1.0000","Potential.Refusers: 191<br />Prob: 1.0000","Potential.Refusers: 192<br />Prob: 1.0000","Potential.Refusers: 193<br />Prob: 1.0000","Potential.Refusers: 194<br />Prob: 1.0000","Potential.Refusers: 195<br />Prob: 1.0000","Potential.Refusers: 196<br />Prob: 1.0000","Potential.Refusers: 197<br />Prob: 1.0000","Potential.Refusers: 198<br />Prob: 1.0000","Potential.Refusers: 199<br />Prob: 1.0000","Potential.Refusers: 200<br />Prob: 1.0000"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":24.5235920852359,"r":7.30593607305936,"b":38.4779299847793,"l":48.9497716894977},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-10,210],"tickmode":"array","ticktext":["0","50","100","150","200"],"tickvals":[0,50,100,150,200],"categoryorder":"array","categoryarray":["0","50","100","150","200"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"Refusers","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.05,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"Prob. of x or Less Refusers","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"34ab748e52518":{"x":{},"y":{},"type":"scatter"}},"cur_data":"34ab748e52518","visdat":{"34ab748e52518":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<hr />
<ol start="2" style="list-style-type: decimal">
<li>What is the probability that 24 or fewer will not accept Scottish pounds?</li>
</ol>
<pre class="r"><code>pbinom(24, 200, 0.15)</code></pre>
<pre><code>## [1] 0.1368173</code></pre>
<hr />
<ol start="3" style="list-style-type: decimal">
<li>What is the probability that 25 or more shopkeepers will not accept Scottish pounds?</li>
</ol>
<pre class="r"><code>1-pbinom(24, 200, 0.15)</code></pre>
<pre><code>## [1] 0.8631827</code></pre>
<hr />
<ol start="4" style="list-style-type: decimal">
<li>With probability 0.9 [90 percent], XXX or fewer shopkeepers will not accept Scottish pounds.</li>
</ol>
<pre class="r"><code>qbinom(0.9, 200, 0.15)</code></pre>
<pre><code>## [1] 37</code></pre>
<hr />
</div>
<div id="geometric-distributions" class="section level1">
<h1>Geometric Distributions</h1>
<p>How many failures before the first success? Now defined exclusively by <span class="math inline">\(p\)</span>. In each case, (1-p) happens <span class="math inline">\(k\)</span> times. Then, on the <span class="math inline">\(k+1^{th}\)</span> try, p. Note 0 failures can happen…</p>
<p><span class="math display">\[Pr(y=k) = (1-p)^{k}p\]</span></p>
<hr />
<p>Example: Entrepreneurs</p>
<p>Suppose any startup has a <span class="math inline">\(p=0.1\)</span> chance of success. How many failures?</p>
<hr />
<p><img src="index_files/figure-html/GP1-1.jpeg" width="672" /></p>
<hr />
</div>
<div id="example-entrepreneurs" class="section level1">
<h1>Example: Entrepreneurs</h1>
<p>Suppose any startup has a <span class="math inline">\(p=0.1\)</span> chance of success. How many failures for the average/median person?</p>
<pre class="r"><code>qgeom(0.5,0.1)</code></pre>
<pre><code>## [1] 6</code></pre>
<hr />
<ol start="5" style="list-style-type: decimal">
<li>[Geometric] Plot 1000 random draws of “How many vendors until one refuses my Scottish pounds?”</li>
</ol>
<pre class="r"><code>Geoms.My &lt;- data.frame(Vendors=rgeom(1000, 0.15))
Geoms.My %&gt;% ggplot() + aes(x=Vendors) + geom_histogram(binwidth=1)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-18-1.jpeg" width="672" /></p>
<p>We could also do something like.</p>
<pre class="r"><code>plot(seq(0,60), pgeom(seq(0,60), 0.15))</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-19-1.jpeg" width="672" /></p>
<hr />
<div id="the-median-is-a-binomial-with-p0.5" class="section level2">
<h2>The Median is a Binomial with p=0.5</h2>
<p>Interestingly, any given observation has a 50-50 chance of being <em>over</em> or <em>under</em> the median. Suppose that I have five datum.<br />
1. What is the probability that all are under?</p>
<pre class="r"><code>pbinom(0,size=5, p=0.5)</code></pre>
<pre><code>## [1] 0.03125</code></pre>
<hr />
<ol start="2" style="list-style-type: decimal">
<li>What is the probability that all are over?</li>
</ol>
<pre class="r"><code>dbinom(5,size=5, p=0.5)</code></pre>
<pre><code>## [1] 0.03125</code></pre>
<hr />
<ol start="3" style="list-style-type: decimal">
<li>What is the probability that the median is somewhere in between our smallest and largest sampled values?</li>
</ol>
<p><strong>Everything else</strong>.</p>
<p>This <em>Rule of Five</em> often credited to Hubbard is handy.</p>
<hr />
</div>
</div>
<div id="events-the-poisson" class="section level1">
<h1>Events: The Poisson</h1>
<div class="figure">
<img src="https://github.com/robertwwalker/DADMStuff/raw/master/Poisson.jpg" alt="" />
<p class="caption">Poisson</p>
</div>
<hr />
<p>Take a binomial with <span class="math inline">\(p\)</span> very small and let <span class="math inline">\(n \rightarrow \infty\)</span>. We get the Poisson distribution (<span class="math inline">\(y\)</span>) given an arrival rate <span class="math inline">\(\lambda\)</span> specified in events per period.</p>
<p><span class="math display">\[f(y|\lambda) = \frac{\lambda^{y}e^{-\lambda}}{y!}\]</span></p>
<hr />
</div>
<div id="examples-the-poisson" class="section level1">
<h1>Examples: The Poisson</h1>
<ul>
<li>Walk in customers</li>
<li><em>Emergency Room Arrivals</em></li>
<li>Births, deaths, marriages</li>
<li><em>Prussian Cavalry Deaths by Horse Kick</em></li>
<li>Fish?</li>
</ul>
<hr />
<div id="air-traffic-controllers" class="section level3">
<h3>Air Traffic Controllers</h3>
<p>FAA Decision: Expend or do not expend scarce resources investigating claimed staffing shortages at the Cleveland Air Route Traffic Control Center.</p>
<p>Essential facts: The Cleveland ARTCC is the US’s busiest in routing cross-country air traffic. In mid-August of 1998, it was reported that the first week of August experienced 3 errors in a one week period; an error occurs when flights come within five miles of one another by horizontal distance or 2000 feet by vertical distance. The Controller’s union claims a staffing shortage though other factors could be responsible. 21 errors per year (21/52 errors per week) has been the norm in Cleveland for over a decade.</p>
<hr />
<ol style="list-style-type: decimal">
<li>Plot a histogram of 1000 random weeks. NB: <em>pois</em> is the noun with no default for <span class="math inline">\(\lambda\)</span> – the arrival rate.</li>
</ol>
<pre class="r"><code>DF &lt;- data.frame(Close.Calls = rpois(1000, 21/52))
ggplot(DF) + aes(x=Close.Calls) + geom_histogram()</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-22-1.jpeg" width="672" /></p>
<hr />
<pre class="r"><code>ggplot(DF) + aes(x=Close.Calls) + stat_ecdf(geom=&quot;step&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-23-1.jpeg" width="672" /></p>
<hr />
<ul>
<li>Plot a sequence on the x axis from 0 to 5 and the probability of that or fewer incidents along the y. <em>seq(0,5)</em></li>
</ul>
<pre class="r"><code>DF &lt;- data.frame(x=0:5, y=ppois(0:5, 21/52))
ggplot(DF) + aes(x=x, y=y) + geom_col()</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-24-1.jpeg" width="672" /></p>
<hr />
<ol start="2" style="list-style-type: decimal">
<li>What would you do and why? <em>Not impossible</em></li>
</ol>
<hr />
<ol start="3" style="list-style-type: decimal">
<li>After analyzing the initial data, you discover that the first two weeks of August have experienced 6 errors. What would you now decide? <em>Well, once is 0.0081342.</em> Twice, at random, is that squared. We have a problem.</li>
</ol>
<hr />
</div>
<div id="deaths-by-horse-kick-in-the-prussian-cavalry" class="section level3">
<h3>Deaths by Horse Kick in the Prussian cavalry?</h3>
<pre class="r"><code>library(vcd)
data(VonBort)
head(VonBort)</code></pre>
<pre><code>##   deaths year corps fisher
## 1      0 1875     G     no
## 2      0 1875     I     no
## 3      0 1875    II    yes
## 4      0 1875   III    yes
## 5      0 1875    IV    yes
## 6      0 1875     V    yes</code></pre>
<pre class="r"><code>mean(VonBort$deaths)</code></pre>
<pre><code>## [1] 0.7</code></pre>
<hr />
<p><img src="index_files/figure-html/VBG1-1.jpeg" width="672" /></p>
</div>
</div>
